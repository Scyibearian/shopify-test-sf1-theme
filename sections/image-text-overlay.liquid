<style>
  @media (min-width:768px){
    .image-overlay-main-{{ section.id }}{
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }
  @media (max-width:767px){
    .image-overlay-main-{{ section.id }}{
      padding-top: {{ section.settings.padding_top_m }}px;
      padding-bottom: {{ section.settings.padding_bottom_m }}px;
    }
  }
  .image-overlay-bg-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .image-overlay-flex {
    border: 1px solid #FFFFFF;
    border-radius: 52px;
    overflow: hidden;
    position: relative;
  }
  .image-overlay-content {
    position: absolute;
    left: 80px;
    top: 50%;
    transform: translateY(-50%);
    width: 45%;
    display: flex;
    flex-direction: column;
    gap: 24px;
      align-items: flex-start;
  }
  .overlay-image-heading {
    font-weight: 600;
    font-size: 56px;
    line-height: 95%;
  }
  .overlay-image-richtext {
    font-weight: 400;
    font-size: 18px;
    line-height: 144%;
  }
  @media (max-width:767px){
    .image-overlay-content{
      max-width: calc(100% - 40px);
      width: 100%;
      left: 20px;
    }
    .overlay-image-heading {
      font-size: 36px;
    }
    .image-overlay-main-child {
      padding: 0 20px;
    }
  }
</style>


<div class="image-overlay-main image-overlay-main-{{ section.id }}">
  <div class="image-overlay-main-child">
    <div class="custom-page-width">
      <div class="image-overlay-flex">
        <div class="image-overlay-img" style="height:{{ section.settings.container_height }}px;">
          {% if section.settings.bg_image != blank %}
            <img class="image-overlay-bg-image" src="{{ section.settings.bg_image | image_url }}" width="auto" height="autp" alt="image-overlay" loading="eager" fetchpriority="high">
          {% else %}
            {%- capture placeholder_image -%}{% cycle 'placeholder': 'lifestyle-1', 'lifestyle-2' %}{%- endcapture -%}
            {{- placeholder_image | placeholder_svg_tag: 'placeholder' | replace: '<svg', '<svg preserveAspectRatio="xMinYMin slice"' -}}
          {% endif %}
        </div>
        <div class="image-overlay-content">
          {% if section.settings.heading != blank %}
            <h2 class="overlay-image-heading">{{ section.settings.heading }}</h2>
          {% endif %}
          {% if section.settings.richtext != blank %}
            <div class="overlay-image-richtext">{{ section.settings.richtext }}</div>
          {% endif %}
          {% if section.settings.btn_name != blank %}
            <a class="button overlay-image-btn" href="{{ section.settings.btn_link }}">{{ section.settings.btn_name }}</a>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>


{% schema %}
  {
    "name": "Image Text Overlay",
    "settings": [
      {
        "type": "image_picker",
        "id": "bg_image",
        "label": "Background Image"
      },
      {
        "type": "range",
        "id": "container_height",
        "label": "Container Minimum Height",
        "min": 400,
        "max": 1600,
        "step": 20,
        "default":800
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading"
      },
      {
        "type": "richtext",
        "id": "richtext",
        "label": "Content"
      },
      {
        "type": "text",
        "id": "btn_name",
        "label": "Button Name"
      },
      {
        "type": "url",
        "id": "btn_link",
        "label": "Button Link"
      },
      {
        "type": "header",
        "content": "Paddings"
      },
      {
        "type": "range",
        "id":"padding_top",
        "label": "Top",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 80,
        "unit": "px"
      },
      {
        "type": "range",
        "id":"padding_bottom",
        "label": "Bottom",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 80,
        "unit": "px"
      },
      {
        "type": "header",
        "content": "Paddings (Mobile)"
      },
      {
        "type": "range",
        "id":"padding_top_m",
        "label": "Top",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 40,
        "unit": "px"
      },
      {
        "type": "range",
        "id":"padding_bottom_m",
        "label": "Bottom",
        "min": 0,
        "max": 200,
        "step": 2,
        "default": 40,
        "unit": "px"
      }
    ],
    "presets": [
      {
        "name": "Image Text Overlay"
      }
    ]
  }
{% endschema %}